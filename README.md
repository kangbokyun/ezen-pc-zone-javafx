# EZEN PC ZONE

## URL : https://www.youtube.com/watch?v=xJC-KUXr47k

## 1. 개요
### 1.1. 개발 목적
- 피시방 이용자 및 관리자의 편의성 증진

### 1.2. 선정 배경

### 1.3. Target
- 피시방 이용자 (손님)
- 피시방 관리자 (피시방 대표, 아르바이트생)

## 2. 개발 일정
- 기간 : 2021.11.05 ~ 2021.11.21 (총 17일)
- History

|날짜|내용|
|----|----|
|2021.11.05|주제 선정 <br>화면 구성 1차 논의 및 화면 구조도 작성<br>Front 초안 제작(Scenebuilder)</br>|
|2021.11.08|Logo 제작 및 논의<br>화면 구성 2차 논의<br>controller 구조도 제작</br>|
|2021.11.09|Database 설계|
|2021.11.10|Scenebuilder 화면전환 구현|
|2021.11.11|문서화(화면구조, controller 구조, DB구조)<br>Scenebuilder fx:id 명명<br>최종 역할분담 <br>Database schema 및 table 생성</br>|
|2021.11.12 ~ 2021.11.17|개인 작업|
|2021.11.18 ~ 2021.11.21|프로젝트 연결 및 오류 수정|
|2021.11.22|프로젝트 발표|

## 3. 개발인원

## 4. 개발 환경
- 운영체제 : Windows10
- Front-end : JavaFx 3.7.0, SceneBuilder 17.0.0
- Back-end : JDK 11, Eclipse IDE for Java Developers 2021-09
- Database : MySQL 8.0
- Version Control : Git

## 화면 스토리보드

## 5. Controller 구조도  

## 6. Database ERD  
- Table : Total 7EA  
![211119_erd](https://user-images.githubusercontent.com/87436495/142559102-8652b249-c012-49e9-bef6-6fde86fbe444.png)

## 7. 주요기능 : 멀티스레드
### 7.1 키오스크, 고객, 관리자 프로그램에서 PC 사용유무 실시간 확인 가능
### 7.2 고객 문의(채팅)
### 7.3 실시간 시간 차감
### 7.4 주문내역 실시간 업로드

## 7. 메인기능
- 좌석선택(결제), 자리이동
- PC 상태변경
- 일시정지
- 실시간 시간 차감 및 사용 시간
- 고객문의(채팅)
- 상품 주문


## 8. 보완할 점
- 다수의 인원과 1:1 동시 채팅 구현
- 일시정지 멀티스레드 작동
- 게임 및 문서 실행 기능 추가
- 제품 등록 시 사진 px 크기 자동 조정
- 사진 업로드 시 경로 제약받지 않도록 (서버가 없어서 img폴더에 사진이 없으면 이미지 못불러옴)
- 코드 리팩토링


## 9. 후기
프로젝트 진행 시 어려웠던 점
1. 3개 프로그램 동시 연동
2. 1:1 동시 채팅
3. 실시간 시간 차감 및 사용시간 계산
처음 접근 :
현재 시간 - 로그인 시간으로 생각
db는 timestamp로 만들고 실시간으로 현재시간을 계속 업데이트 하며 동시에 로그인 시간을 빼는 것 실패

생각을 다르게 접근
날짜를 생각하지 않고 로그인 시작 시 0으로 시작
시간 차감 및 사용 시간은 시간과 시간을 빼는 것이 아니라 각자 1초 차감, 1초 증가로 별개로 계산


5. 멀티스레드 기능이 들어간 것 2개 이상을 하나의 화면에 담는 것

배운 것

1. 생각의 유연함의 중요성
프로젝트 중
실시간 시간 차감 및 사용 시간 계산 시 처음에는 현재 시간 - 로그인 시간으로 가능할 것으로 보고 접근
DB는 timestamp로 제작
그러나 현재 시간을 실시간으로 계속 업데이트하며 동시에 DB에서 업데이트 된 데이터를 조회하여 로그인 시간을 빼는 것 실패

생각을 다르게 접근
날짜를 무시하고 로그인 시작 시 무조건 0으로 시작
시간 차감 및 사용 시간은 시간 데이터를 서로 빼는 것이 아니라 각자 1초 차감, 1초 증가로 초단위로 별개로 계산하여 문제해결

처음 방법도 가능할 지 모른다. 하지만 작은 생각의 전환 하나가 당시 내 실력과 상황에서 문제를 해결할 수 있는 실마리가 되어 문제를 해결할 수 있었다.


아쉬운 것
